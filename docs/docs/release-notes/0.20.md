# Version 0.20

## New Feature: Customizable File Extension Ignoring

Sheriff now supports customizing which file extensions are ignored during import traversal through the new `ignoreFileExtensions` configuration option.

### What it does

The `ignoreFileExtensions` option allows you to control which file types Sheriff should ignore when analyzing dependencies. By default, Sheriff ignores common non-code files like images, styles, fonts, and data files to improve performance and avoid irrelevant dependencies.

### Configuration Options

You can configure `ignoreFileExtensions` in two ways:

**1. Extend the defaults (recommended):**

```typescript
export const config: SheriffConfig = {
  ignoreFileExtensions: (defaults) => [...defaults, 'env', 'yaml', 'toml'],
  // ... other configuration
};
```

**2. Override completely:**

```typescript
export const config: SheriffConfig = {
  ignoreFileExtensions: ['ts', 'tsx', 'js', 'jsx'],
  // ... other configuration
};
```

### Default Ignored Extensions

If you don't specify `ignoreFileExtensions`, Sheriff uses these sensible defaults:

- **Images**: `svg`, `png`, `jpg`, `jpeg`, `gif`, `webp`, `ico`
- **Styles**: `css`, `scss`, `sass`, `less`
- **Fonts**: `woff`, `woff2`, `ttf`, `eot`, `otf`
- **Audio**: `mp3`, `wav`, `ogg`
- **Video**: `mp4`, `webm`, `mov`
- **Data/Misc**: `json`, `csv`, `xml`, `txt`, `md`

### Use Cases

This feature is particularly useful when:

- Your project uses custom file extensions that should be ignored
- You want to add environment-specific files (`.env`, `.yaml`) to the ignore list
- You need to override the defaults for a specific project structure

## Migration

No migration is required. Existing configurations will continue to work with the new default ignored extensions. If you want to customize the ignored extensions, simply add the `ignoreFileExtensions` option to your configuration.

For more details, see the [Configuration Reference](../configuration.md#ignorefileextensions).

## New Feature: Exclude Files from Rule Checks

Sheriff now supports excluding specific files or patterns from all rule enforcement through the new `excludeFromChecks` configuration option.

### What it does

The `excludeFromChecks` option allows you to exclude specific file paths or patterns from Sheriff's rule enforcement while still maintaining dependency analysis. This is particularly useful for legacy code, generated files, or areas of your codebase that need time to gradually adopt Sheriff's rules.

### Key Distinction: `ignoreFileExtensions` vs `excludeFromChecks`

- **`ignoreFileExtensions`**: Makes Sheriff skip parsing and traversing certain file types (e.g., `.scss` files that TypeScript can't read)
- **`excludeFromChecks`**: Disables rule enforcement for specific paths while still parsing and traversing them for dependency analysis

### Configuration Options

You can use a combination of glob patterns and regular expressions:

```typescript
export const config: SheriffConfig = {
  excludeFromChecks: [
    'src/client/**',           // Skip all rule checks for generated client
    'src/generated/**',        // Skip all rule checks for generated files
    'src/**/*.gen.ts',         // Skip all rule checks for .gen.ts files
    /src\/.*\.gen\.ts$/,       // Regex pattern for .gen.ts files
    'src/legacy/**'            // Skip all rule checks for legacy code
  ],
  // ... other configuration
};
```

### Use Cases

This feature is particularly useful when:

- **Legacy code migration**: Existing codebases that haven't been refactored to follow strict module boundaries yet
- **Third-party generated code**: Importing from generated SDKs or client libraries with internal dependencies
- **Temporary exclusions**: During refactoring phases where certain areas need to be temporarily excluded

### Migration

No migration is required. Existing configurations will continue to work. The `excludeFromChecks` option defaults to an empty array, meaning no files are excluded by default.

For more details, see the [Configuration Reference](../configuration.md#excludefromchecks).
